<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CarRent â€” Cars</title>
  <link rel="stylesheet" href="/shared/navbar.css" />
  <link rel="stylesheet" href="/shared/components.css" />
  <link rel="stylesheet" href="/shared/modal.css" />
  <link rel="stylesheet" href="/pages/cars/cars.css" />
</head>
<body>
  <div id="navbar-root"></div>

  <main class="cars-page">
    <div class="cars-container">
      <!-- Filter Panel -->
      <aside class="filter-panel">
        <div class="filter-card">
          <h3 class="filter-title">Filters</h3>
          <form id="filter-form" class="filter-form">
            <div class="form-group">
              <label for="make">Make</label>
              <input
                id="make"
                name="make"
                type="text"
                class="form-input"
                placeholder="e.g. BMW"
              />
            </div>

            <div class="form-group">
              <label for="model">Model</label>
              <input
                id="model"
                name="model"
                type="text"
                class="form-input"
                placeholder="e.g. X5"
              />
            </div>

            <div class="form-group">
              <label for="year">Year</label>
              <input
                id="year"
                name="year"
                type="number"
                class="form-input"
                placeholder="2024"
              />
            </div>

            <div class="form-group">
              <label for="minPrice">Min Price/Day</label>
              <input
                id="minPrice"
                name="minPrice"
                type="number"
                step="0.01"
                class="form-input"
                placeholder="0"
              />
            </div>

            <div class="form-group">
              <label for="maxPrice">Max Price/Day</label>
              <input
                id="maxPrice"
                name="maxPrice"
                type="number"
                step="0.01"
                class="form-input"
                placeholder="1000"
              />
            </div>

            <div class="form-group">
              <label for="status">Status</label>
              <select id="status" name="status" class="form-select">
                <option value="">Any Status</option>
                <option value="Available">Available</option>
                <option value="Rented">Rented</option>
              </select>
            </div>

            <button type="submit" class="btn btn-primary btn-full">Apply Filters</button>
            <button type="reset" class="btn btn-secondary btn-full">Clear Filters</button>
          </form>
        </div>
      </aside>

      <!-- Cars Section -->
      <section class="cars-section">
        <div class="section-header">
          <h1 class="section-title">Find Your Perfect Car</h1>
          <div id="admin-actions" class="admin-actions hidden">
            <button id="add-car-btn" class="btn btn-success">+ Add Car</button>
          </div>
        </div>

        <div id="cars-list" class="cars-grid"></div>
      </section>
    </div>
  </main>

  <!-- Edit/Create Car Modal -->
  <div id="car-modal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title" class="modal-title">Add New Car</h2>
        <button class="modal-close" onclick="document.getElementById('car-modal').classList.remove('open')">&times;</button>
      </div>

      <form id="car-form" class="modal-body">
        <div class="form-group">
          <label for="modal-make">Make</label>
          <input id="modal-make" name="make" type="text" class="form-input" required />
        </div>

        <div class="form-group">
          <label for="modal-model">Model</label>
          <input id="modal-model" name="model" type="text" class="form-input" required />
        </div>

        <div class="form-group">
          <label for="modal-year">Year</label>
          <input id="modal-year" name="year" type="number" class="form-input" required />
        </div>

        <div class="form-group">
          <label for="modal-status">Status</label>
          <select id="modal-status" name="status" class="form-select" required>
            <option value="Available">Available</option>
            <option value="Rented">Rented</option>
            <option value="Maintenance">Maintenance</option>
          </select>
        </div>

        <div class="form-group">
          <label for="modal-price">Price Per Day</label>
          <input id="modal-price" name="pricePerDay" type="number" step="0.01" class="form-input" required />
        </div>

        <div class="form-group">
          <label for="modal-image">Image URL</label>
          <input id="modal-image" name="imageUrl" type="url" class="form-input" />
        </div>
      </form>

      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="document.getElementById('car-modal').classList.remove('open')">Cancel</button>
        <button id="save-car-btn" class="btn btn-primary">Save Car</button>
        <button id="delete-car-btn" class="btn btn-danger hidden">Delete Car</button>
      </div>
    </div>
  </div>

  <script src="/shared/api.js"></script>
  <script src="/shared/auth.js"></script>
  <script src="/shared/navbar.js"></script>
  <script src="/pages/cars/cars.js"></script>
</body>
</html>
